"""
企业微信群信息工具
获取OPC超级个体孵化微信群的加入信息
"""

import os
from langchain.tools import tool
from dotenv import load_dotenv

# 加载.env文件
load_dotenv()

@tool
def get_wechat_group_info() -> str:
    """
    获取OPC超级个体孵化微信群的加入信息。

    Returns:
        str: 微信群加入信息，包含二维码、群号和入群须知
    """
    # 从环境变量读取群配置
    group_qrcode_url = os.getenv("WECHAT_GROUP_QRCODE_URL", "")
    group_name = os.getenv("WECHAT_GROUP_NAME", "OPC超级个体孵化群")
    expire_days = os.getenv("WECHAT_GROUP_EXPIRE_DAYS", "7")

    # 如果配置了群二维码
    if group_qrcode_url:
        qrcode_section = f"""
**方式一：扫码入群** ⭐推荐
扫描下方二维码，即可加入【{group_name}】：

```
{group_qrcode_url}
```
"""
    else:
        qrcode_section = ""

    return f"""
🎉 **恭喜您成为OPC超级个体孵化会员！**

📱 **{group_name}**

🔹 **入群方式**
{qrcode_section}
**方式二：添加管理员邀请**
- 将您的微信号发送给我
- 管理员会邀请您加入群聊

⏰ **温馨提示**
- 群二维码有效期{expire_days}天，请尽快加入
- 如果二维码过期，请联系我获取最新二维码
- 入群后请修改昵称：姓名-行业（如：张三-知识付费）

📚 **群内福利**

✅ **每周干货分享**
- OPC创业实战案例
- 行业趋势分析
- 营销推广技巧

✅ **专家答疑解惑**
- 创业导师在线答疑
- 经验分享和交流
- 资源对接与合作

✅ **社群活动**
- 定期线上沙龙
- 创业经验分享会
- 资源对接会

✅ **持续更新**
- 最新创业项目推荐
- 行业动态推送
- 成功案例解析
- AI工具使用技巧和优化建议

✅ **工具评分优化** 🎯
- 收集团员对AI工具的使用反馈
- 定期更新工具评分和推荐算法
- 根据实际使用体验优化推荐

📋 **入群须知**

1. **遵守群规**
   - 禁止发布广告和无关信息
   - 尊重他人，文明交流
   - 保护隐私，禁止泄露他人信息

2. **积极参与**
   - 分享你的创业心得
   - 提问和帮助他人
   - 建立良好的人脉关系

3. **持续学习**
   - 关注群内分享
   - 参与话题讨论
   - 积极提出建议

💡 **AI工具反馈机制**

我们非常重视您对AI工具的使用体验！入群后，您可以：

1. **分享使用心得**：在群内分享您使用推荐工具的真实体验
2. **提交工具评分**：对每个工具的易用性、功能完整度、性价比进行评分（1-5分）
3. **提出改进建议**：告诉我们哪些工具好用，哪些工具需要改进
4. **推荐新工具**：如果您发现其他好用的AI工具，欢迎推荐给我们

**反馈格式**：
```
#工具反馈 工具名称 | 易用性X/功能完整度Y/性价比Z | 使用心得
```

**示例**：
```
#工具反馈 即梦 | 易用性5/功能完整度4/性价比5 | 操作简单，视频生成速度快，性价比很高
```

**您的反馈将帮助我们**：
✅ 优化工具评分系统
✅ 改进推荐算法
✅ 为更多创业者提供更准确的工具推荐
✅ 定期更新工具库，淘汰不合适的工具，添加优质新工具

🎯 **我们的目标**

帮助每一位创业者实现：
✨ 低成本启动
✨ 快速验证市场
✨ 持续盈利增长
✨ 成为真正的"超级个体"

💬 **联系我们**

如有任何问题，欢迎随时在群内提问或私信我！

期待与您在群内相遇，一起成长，一起成功！🚀
"""
